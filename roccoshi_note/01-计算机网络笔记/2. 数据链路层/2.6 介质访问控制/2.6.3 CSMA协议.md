# 2.6.3 CSMA协议

> CSMA : 载波监听多路访问协议 ( carrier sense multiple access)

**CS** : 当几个站同时在发送数据时, 总线上的「电压摆动值」将会增大, 当一个站检测到电压摆动值**超过**一定的门限值时, 就认为总线上有**几个站同时在发送数据**, 表明产生了冲突

**MA** : 多点接入, 表示许多计算机以多点接入的方式连接在一根总线上

-----

协议思想 : **发送帧之前, 监听信道**

<center><img src="https://youpai.roccoshi.top/img/20200710160939.png"><br><div style="border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;    padding: 2px;">3种CSMA协议</div> </center>

## 1-坚持CSMA

思想 : 如果一个主机要发送消息, 那么它先监听信道, 如果信道空闲则直接传输, 不必等待, 如果信道忙则**一直监听**, 直到空闲马上传输. 如果有冲突, 则等待一个随机长的时间再监听, 重复上述过程

- 优点 : 信道空闲则可以马上发送数据, 避免了信道利用率的损失

- 缺点 : 如果有两个或两个以上的站点有数据要发送, 冲突则不可避免 

## 非坚持CSMA

思想 : 如果一个主机要发送消息, 那么它先监听信道, 如果信道空闲则直接传输, 不必等待, 如果信道忙则**等待一个随机时间之后再监听**

- 优点 : 采用随机重发延迟时间可以减少冲突发生的可能性

- 缺点 : 大家可能都在延迟等待的过程中, 使得信道空闲时无数据传输, 信道使用率降低

## p-坚持CSMA

思想 : 如果一个主机要发送消息, 那么它先监听信道, 如果信道空闲则**以p概率直接传输, 以1-p概率等待到下一个时间槽再传输** 

> 1-坚持CSMA就是p=1的p-坚持CSMA

- 优点 : 综合了1-坚持CSMA和非坚持CSMA的特点

