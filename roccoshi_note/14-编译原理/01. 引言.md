# 01. 引言

## 1 | 编译器的工作过程

编译器的工作过程主要分为如下四步:

词法分析->语法分析->语义分析->目标代码生成

![](https://youpai.roccoshi.top/img/20210311090321.png)

## 2 | 编译器各阶段的工作

1. **词法分析：**识别单词，至少分以下几大类：关键字（保留字）、标识符、字面量、特殊符号；

2. **语法分析：**得到语言结构并以树的形式表示；

3. **语义分析：**考察结构正确的句子是否语义合法，修改树结构；

4. **中间代码生成（可选）：**生成一种既接近目标语言，又与具体机器无关的表示，便于优化与代码生成；

   *(到目前为止，编译器与解释器可以一致）*

5. **中间代码优化（可选）：**局部优化、循环优化、全局优化等；优化实际上是一个等价变换，变换前后的指令序列完成同样的功能，但在占用的空间上和程序执行的时间上都更省、更有效。

6. **目标代码生成：**不同形式－汇编、可重定位、内存形式;

7. **符号表管理：**记录符号信息并合理组织，便于各阶段查找、操作等；

8. **出错处理：**错误的种类－词法错、语法错、静态语义错、动态语义错。

