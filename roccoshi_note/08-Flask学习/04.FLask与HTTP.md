# 04.FLask与HTTP

## 一. Request对象

```python
@app.route('/hello')
def hello():
    name = request.args.get('name', 'Flask')  # 获取name值, 默认为name=Flask
    return '<h1>Hello, %s!</h1>' % name
```

此时发送get请求name=hihihi则显示`Hello, hihihi!`

## 二. 在flask中处理请求

### 2.1 路由匹配

`flask routes`

显示 : 

```cmd
(Env-Flask-TxTdDa0v) E:\projects\Env-Flask>flask routes
Endpoint  Methods  Rule
--------  -------  -----------------------
hello     GET      /hello
static    GET      /static/<path:filename>
```

### 2.2 设置监听的HTTP方法

```python
@app.route('/hi', methods=['GET', 'POST'])
def hi():
    return '<h1>Hello, Flask!</h1>'
```

则仅当接收到get和post请求时才返回

### 2.3 URL处理

```python
@app.route('/goback/<int:year>')
def go_back(year):
    return '<h1>Welcome to %d year</h1>' % year
```

`<int:year>`就是一个`<转换器:变量名>`

其他转换器 : 

```txt
string - int - float - path - any - uuid
```

`any`的用法 : 

```python
@app.route('/selcolor/<any(blue, red):color>')
def selcolor(color):
    return '%s is color' % color
```

此时除了blue和red, 其他都会报`Not Found`错误

### 2.4 请求钩子

